Ext.onReady(function(){var b=new Ext.data.JsonStore({root:"records",totalProperty:"totalCount",idProperty:"id",fields:["id","skuId","skuTitle","itemId","itemTitle","quantity"],url:"connect.php?moduleId=qo-shipments&action=verifyShipment"});function a(f,h,g){return String.format('<img src="http://m2.sourcingmap.com/smap/images/item/medium/ux_{0}_ux_m.jpg"',f);}function d(f,h,g){return String.format(" X {0} <br><br> {1} <br><br> {2}",g.data.quantity,g.data.skuId,g.data.skuTitle);}var c=new Ext.grid.EditorGridPanel({autoHeight:true,store:b,selModel:new Ext.grid.RowSelectionModel({}),columns:[{header:"Image",dataIndex:"skuId",renderer:a,width:105,align:"center"},{header:"Info",dataIndex:"skuId",renderer:d,width:500,align:"center"}]});var e=new Ext.FormPanel({id:"verify-shipment-form",autoScroll:true,title:"Verify Shipment",items:[{layout:"column",items:[{columnWidth:0.3,layout:"form",border:false,items:[{xtype:"textfield",fieldLabel:"ShipmentId",name:"id",listeners:{specialkey:function(f,g){if(g.getKey()==13){b.load({params:{id:e.getForm().findField("id").getValue()}});Ext.getCmp("verify-shipment-form").form.findField("id").focus(true);}}}}]},{columnWidth:0.7,layout:"form",border:false,items:[{xtype:"button",text:"Submit",handler:function(){b.load({params:{id:e.getForm().findField("id").getValue()}});Ext.getCmp("verify-shipment-form").form.findField("id").focus(true);}}]}]},{xtype:"panel",autoHeight:true,items:c}]});e.render(document.body);});
Ext.onReady(function(){var b=new Ext.data.JsonStore({root:"records",totalProperty:"totalCount",idProperty:"id",fields:["id","sellerId","shipmentMethod","skuId","skuTitle","itemId","itemTitle","quantity","galleryURL"],url:"connect.php?moduleId=qo-shipments&action=verifyShipment"});function a(g,i,h){return String.format('<img src="{0}"',g)}function e(g,i,h){return String.format(" {0} X {1} <br> {2}",h.data.skuId,h.data.quantity,h.data.itemTitle)}function c(g,i,h){switch(g){case"B":return"Bulk";break;case"S":return"SpeedPost";break;case"R":return"Registered";break;case"U":return"UPS";break;default:return"";break}}var d=new Ext.grid.EditorGridPanel({autoHeight:true,store:b,selModel:new Ext.grid.RowSelectionModel({}),columns:[{header:"Image",dataIndex:"galleryURL",renderer:a,width:450,align:"center"},{header:"Info",dataIndex:"skuId",renderer:e,width:350,align:"center"},{header:"Method",dataIndex:"shipmentMethod",renderer:c,width:80,align:"center"},{header:"Seller",dataIndex:"sellerId",width:100,align:"center"}]});var f=new Ext.FormPanel({id:"verify-shipment-form",autoScroll:true,title:"Verify Shipment",items:[{layout:"column",items:[{columnWidth:0.3,layout:"form",border:false,items:[{xtype:"textfield",fieldLabel:"ShipmentId",name:"id",listeners:{specialkey:function(g,h){if(h.getKey()==13){b.load({params:{id:f.getForm().findField("id").getValue()}});Ext.getCmp("verify-shipment-form").form.findField("id").focus(true)}}}}]},{columnWidth:0.7,layout:"form",border:false,items:[{xtype:"button",text:"Submit",handler:function(){b.load({params:{id:f.getForm().findField("id").getValue()}});Ext.getCmp("verify-shipment-form").form.findField("id").focus(true)}}]}]},{xtype:"panel",autoHeight:true,items:d}]});f.render(document.body)});
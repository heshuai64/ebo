Ext.override(QoDesk.Reports,{createWindow:function(){var d=this.app.getDesktop();var c=d.getWindow("reports-win");var a=function(g,e,f){window.open("http://127.0.0.1:6666/eBayBO/reports.php?type=skuSell&seller_id="+g+"&start_date="+e+"&end_date="+f,"_blank","toolbar=no, location=yes, directories=no, status=no, menubar=yes, scrollbars=yes, resizable=no, copyhistory=yes, width=10, height=10");};var b=function(){var e=d.getWindow("sku-sell-win");if(!e){e=d.createWindow({id:"sku-sell-win",title:lang.reports.search_sku_sell_window_title,width:300,height:200,iconCls:"sku-sell-icon",shim:false,animCollapse:false,constrainHeader:true,layout:"fit",items:[{xtype:"form",labelWidth:80,items:[{xtype:"combo",fieldLabel:lang.reports.seller_id,mode:"local",store:new Ext.data.JsonStore({autoLoad:true,fields:["id","name"],url:"connect.php?moduleId=qo-transactions&action=getSeller"}),valueField:"id",displayField:"name",triggerAction:"all",editable:false,selectOnFocus:true,width:160,listWidth:160,name:"sellerId",hiddenName:"sellerId"},{id:"start_date",xtype:"datefield",fieldLabel:lang.reports.start_date,format:"Y-m-d",name:"start_date"},{id:"end_date",xtype:"datefield",fieldLabel:lang.reports.end_date,format:"Y-m-d",name:"end_date"}],buttons:[{text:lang.reports.submit,handler:function(){a(document.getElementById("sellerId").value,document.getElementById("start_date").value,document.getElementById("end_date").value);e.close();}},{text:lang.reports.close,handler:function(){e.close();}}]}],taskbuttonTooltip:"<b>统计报告</b><br />各种不同的统计报告"});}e.show();};if(!c){c=d.createWindow({id:"reports-win",title:lang.reports.window_title,width:340,height:200,shim:false,animCollapse:false,constrainHeader:true,layout:"fit",html:'<div class="manage-button"><div class="sku-sell"><img src="resources/images/default/s.gif"/></div><div class="manage-button-des">'+lang.reports.sell_sell+"</div></div>",taskbuttonTooltip:"<b>统计报告</b><br />各种不同的统计报告"});Ext.EventManager.on(Ext.DomQuery.select("div[@class='sku-sell']")[0],"click",b);}c.show();}});
Ext.override(QoDesk.Reports,{createWindow:function(){var b=this.app.getDesktop(),f=b.getWindow("reports-win"),g=function(){var a=b.getWindow("sku-sell-win");a||(a=b.createWindow({id:"sku-sell-win",title:lang.reports.search_sku_sell_window_title,width:300,height:200,iconCls:"sku-sell-icon",shim:false,animCollapse:false,constrainHeader:true,layout:"fit",items:[{xtype:"form",labelWidth:80,items:[{xtype:"combo",fieldLabel:lang.reports.seller_id,mode:"local",store:new Ext.data.JsonStore({autoLoad:true,
fields:["id","name"],url:"connect.php?moduleId=qo-reports&action=getSeller"}),valueField:"id",displayField:"name",triggerAction:"all",editable:false,selectOnFocus:true,width:160,listWidth:160,name:"sellerId",hiddenName:"sellerId"},{id:"start_date",xtype:"datefield",fieldLabel:lang.reports.start_date,format:"Y-m-d",name:"start_date"},{id:"end_date",xtype:"datefield",fieldLabel:lang.reports.end_date,format:"Y-m-d",name:"end_date"}],buttons:[{text:lang.reports.submit,handler:function(){var b=document.getElementById("sellerId").value,
d=document.getElementById("start_date").value,e=document.getElementById("end_date").value;window.open("/eBayBO/reports.php?type=skuSell&seller_id="+b+"&start_date="+d+"&end_date="+e,"_blank","toolbar=no, location=yes, directories=no, status=no, menubar=yes, scrollbars=yes, resizable=no, copyhistory=yes, width=10, height=10");a.close()}},{text:lang.reports.close,handler:function(){a.close()}}]}],taskbuttonTooltip:"<b>Statistical Reports</b><br>Sku sales statistical reports"}));a.show()},h=function(){var a=
b.getWindow("sales-report-win");a||(a=b.createWindow({id:"sales-report-win",title:lang.reports.search_sales_report_window_title,width:500,height:300,iconCls:"sales-report-icon",shim:false,animCollapse:false,constrainHeader:true,layout:"fit",items:[{xtype:"form",labelWidth:80,items:[{xtype:"combo",fieldLabel:lang.reports.seller_id,mode:"local",store:new Ext.data.JsonStore({autoLoad:true,fields:["id","name"],url:"connect.php?moduleId=qo-reports&action=getSeller"}),valueField:"id",displayField:"name",
triggerAction:"all",editable:false,selectOnFocus:true,width:160,listWidth:160,name:"sellerId",hiddenName:"sellerId"},{id:"skus",xtype:"textarea",fieldLabel:"SKUS",width:300,height:180}],buttons:[{text:lang.reports.submit,handler:function(){for(var b=document.getElementById("sellerId").value,d=Ext.getCmp("skus").getValue().split("\n"),e="",c=0;c<d.length;c++)e+=d[c]+",";e=e.substring(0,e.length-1);for(c=1;c<5;c++)setTimeout('window.open("/eBayBO/salesReport.php?week='+c+"&sellerId="+b+"&skus="+e+'", "_blank", "toolbar=no, location=yes, directories=no, status=no, menubar=yes, scrollbars=yes, resizable=no, copyhistory=yes, width=1000, height=700")',
c*5E3);a.close()}},{text:lang.reports.close,handler:function(){a.close()}}]}],taskbuttonTooltip:"<b>Statistical Reports</b><br>Sales statistical reports"}));a.show()},i=function(){var a=b.getWindow("shipped-report-win");a||(a=b.createWindow({id:"shipped-report-win",title:lang.reports.search_shipped_window_title,width:400,height:250,iconCls:"shipped-report-icon",shim:false,animCollapse:false,constrainHeader:true,layout:"fit",items:[{xtype:"form",labelWidth:80,items:[{id:"start_date",xtype:"datefield",
fieldLabel:lang.reports.start_date,format:"Y-m-d",name:"start_date"},{id:"end_date",xtype:"datefield",fieldLabel:lang.reports.end_date,format:"Y-m-d",name:"end_date"}],buttons:[{text:lang.reports.submit,handler:function(){var b=document.getElementById("start_date").value,d=document.getElementById("end_date").value;!Ext.isEmpty(b)&&!Ext.isEmpty(d)?(window.open("/eBayBO/shippedReport.php?start="+b+"&end="+d,"_blank","toolbar=no, location=yes, directories=no, status=no, menubar=yes, scrollbars=yes, resizable=no, copyhistory=yes, width=100, height=50"),
a.close()):alert("Plase select date!")}},{text:lang.reports.close,handler:function(){a.close()}}]}],taskbuttonTooltip:"<b>Statistical Reports</b><br>shipped statistical reports"}));a.show()};f||(f=b.createWindow({id:"reports-win",title:lang.reports.window_title,width:340,height:200,iconCls:"reports-icon",shim:false,animCollapse:false,constrainHeader:true,layout:"fit",html:'<div class="manage-button"><div class="sku-sell"><img src="resources/images/default/s.gif"/></div><div class="manage-button-des">'+
lang.reports.sell_sell+'</div></div>\t\t       <div class="manage-button"><div class="sales-report"><img src="resources/images/default/s.gif"/></div><div class="manage-button-des">'+lang.reports.sales_report+'</div></div>\t\t       <div class="manage-button"><div class="shipped-report"><img src="resources/images/default/s.gif"/></div><div class="manage-button-des">'+lang.reports.shipped_report+"</div></div>",taskbuttonTooltip:"<b>Statistical Reports</b><br>A variety of statistical reports"}),Ext.EventManager.on(Ext.DomQuery.select("div[@class='sku-sell']")[0],
"click",g),Ext.EventManager.on(Ext.DomQuery.select("div[@class='sales-report']")[0],"click",h),Ext.EventManager.on(Ext.DomQuery.select("div[@class='shipped-report']")[0],"click",i));f.show()}});

Ext.onReady(function(){Ext.BLANK_IMAGE_URL="../Ext/2.2/resources/images/default/s.gif";var e=new Ext.data.JsonStore({root:"records",totalProperty:"totalCount",idProperty:"sku_id",autoLoad:true,fields:["sku_id","0_title","0_Mon_quantity","0_Tue_quantity","0_Wed_quantity","0_Thu_quantity","0_Fri_quantity","0_Sat_quantity","0_Sun_quantity","0_total_num","1_title","1_Mon_quantity","1_Tue_quantity","1_Wed_quantity","1_Thu_quantity","1_Fri_quantity","1_Sat_quantity","1_Sun_quantity","1_total_num","1_growth_rate","2_title","2_Mon_quantity","2_Tue_quantity","2_Wed_quantity","2_Thu_quantity","2_Fri_quantity","2_Sat_quantity","2_Sun_quantity","2_total_num","2_growth_rate","3_Mon_quantity","3_title","3_Tue_quantity","3_Wed_quantity","3_Thu_quantity","3_Fri_quantity","3_Sat_quantity","3_Sun_quantity","3_total_num","3_growth_rate","4_title","4_Mon_quantity","4_Tue_quantity","4_Wed_quantity","4_Thu_quantity","4_Fri_quantity","4_Sat_quantity","4_Sun_quantity","4_total_num","4_growth_rate","yesterday_growth_rate","5_Mon_quantity","5_Tue_quantity","5_Wed_quantity","5_Thu_quantity","5_Fri_quantity","5_Sat_quantity","5_Sun_quantity","5_total_num","5_growth_rate","6_Mon_quantity","6_Tue_quantity","6_Wed_quantity","6_Thu_quantity","6_Fri_quantity","6_Sat_quantity","6_Sun_quantity","6_total_num"],url:"reports.php?type=salesReport&sellerId="+sellerId});var c=function(){return"<font color='blue'>|</font>"};var b=function(j,i,k){if(j>0){return String.format('<font color="green">{0}%</font>',j)}else{return String.format('<font color="red">{0}%</font>',j)}};var g=function(j,i,k){};switch(week){case"1":var h="Sales report 3rd Week(past)";var d=new Ext.grid.ColumnModel([{header:"SKU",width:110,align:"center",sortable:true,dataIndex:"sku_id"},{header:"Mon",width:45,align:"center",sortable:true,dataIndex:"0_Mon_quantity"},{header:"Tue",width:45,align:"center",sortable:true,dataIndex:"0_Tue_quantity"},{header:"Wed",width:45,align:"center",sortable:true,dataIndex:"0_Wed_quantity"},{header:"Thu",width:45,align:"center",sortable:true,dataIndex:"0_Thu_quantity"},{header:"Fri",width:45,align:"center",sortable:true,dataIndex:"0_Fri_quantity"},{header:"Sat",width:45,align:"center",sortable:true,dataIndex:"0_Sat_quantity"},{header:"Sun",width:45,align:"center",sortable:true,dataIndex:"0_Sun_quantity"},{header:"Last Total",width:70,align:"center",sortable:true,dataIndex:"0_total_num"},{header:"|",width:10,dataIndex:"0_total_num",renderer:c},{header:"Mon",width:45,align:"center",sortable:true,dataIndex:"1_Mon_quantity"},{header:"Tue",width:45,align:"center",sortable:true,dataIndex:"1_Tue_quantity"},{header:"Wed",width:45,align:"center",sortable:true,dataIndex:"1_Wed_quantity"},{header:"Thu",width:45,align:"center",sortable:true,dataIndex:"1_Thu_quantity"},{header:"Fri",width:45,align:"center",sortable:true,dataIndex:"1_Fri_quantity"},{header:"Sat",width:45,align:"center",sortable:true,dataIndex:"1_Sat_quantity"},{header:"Sun",width:45,align:"center",sortable:true,dataIndex:"1_Sun_quantity"},{header:"This Total",width:65,align:"center",sortable:true,dataIndex:"1_total_num"},{header:"This Growth",width:75,align:"center",sortable:true,dataIndex:"1_growth_rate",renderer:b}]);break;case"2":var h="Sales report 2nd Week(past)";var d=new Ext.grid.ColumnModel([{header:"SKU",width:110,align:"center",sortable:true,dataIndex:"sku_id"},{header:"Mon",width:45,align:"center",sortable:true,dataIndex:"1_Mon_quantity"},{header:"Tue",width:45,align:"center",sortable:true,dataIndex:"1_Tue_quantity"},{header:"Wed",width:45,align:"center",sortable:true,dataIndex:"1_Wed_quantity"},{header:"Thu",width:45,align:"center",sortable:true,dataIndex:"1_Thu_quantity"},{header:"Fri",width:45,align:"center",sortable:true,dataIndex:"1_Fri_quantity"},{header:"Sat",width:45,align:"center",sortable:true,dataIndex:"1_Sat_quantity"},{header:"Sun",width:45,align:"center",sortable:true,dataIndex:"1_Sun_quantity"},{header:"Last Total",width:65,align:"center",sortable:true,dataIndex:"1_total_num"},{header:"Last Growth",width:70,align:"center",sortable:true,dataIndex:"1_growth_rate",renderer:b},{header:"|",width:10,align:"center",dataIndex:"1_total_num",renderer:c},{header:"Mon",width:45,align:"center",sortable:true,dataIndex:"2_Mon_quantity"},{header:"Tue",width:45,align:"center",sortable:true,dataIndex:"2_Tue_quantity"},{header:"Wed",width:45,align:"center",sortable:true,dataIndex:"2_Wed_quantity"},{header:"Thu",width:45,align:"center",sortable:true,dataIndex:"2_Thu_quantity"},{header:"Fri",width:45,align:"center",sortable:true,dataIndex:"2_Fri_quantity"},{header:"Sat",width:45,align:"center",sortable:true,dataIndex:"2_Sat_quantity"},{header:"Sun",width:45,align:"center",sortable:true,dataIndex:"2_Sun_quantity"},{header:"This Total",width:65,align:"center",sortable:true,dataIndex:"2_total_num"},{header:"This Growth",width:70,align:"center",sortable:true,dataIndex:"2_growth_rate",renderer:b}]);break;case"3":var h="Sales report 1st week(past)";var d=new Ext.grid.ColumnModel([{header:"SKU",width:110,align:"center",sortable:true,dataIndex:"sku_id"},{header:"Mon",width:45,align:"center",sortable:true,dataIndex:"2_Mon_quantity"},{header:"Tue",width:45,align:"center",sortable:true,dataIndex:"2_Tue_quantity"},{header:"Wed",width:45,align:"center",sortable:true,dataIndex:"2_Wed_quantity"},{header:"Thu",width:45,align:"center",sortable:true,dataIndex:"2_Thu_quantity"},{header:"Fri",width:45,align:"center",sortable:true,dataIndex:"2_Fri_quantity"},{header:"Sat",width:45,align:"center",sortable:true,dataIndex:"2_Sat_quantity"},{header:"Sun",width:45,align:"center",sortable:true,dataIndex:"2_Sun_quantity"},{header:"Last Total",width:65,align:"center",sortable:true,dataIndex:"2_total_num"},{header:"Last Growth",width:70,align:"center",sortable:true,dataIndex:"2_growth_rate",renderer:b},{header:"|",width:10,align:"center",dataIndex:"2_total_num",renderer:c},{header:"Mon",width:45,align:"center",sortable:true,dataIndex:"3_Mon_quantity"},{header:"Tue",width:45,align:"center",sortable:true,dataIndex:"3_Tue_quantity"},{header:"Wed",width:45,align:"center",sortable:true,dataIndex:"3_Wed_quantity"},{header:"Thu",width:45,align:"center",sortable:true,dataIndex:"3_Thu_quantity"},{header:"Fri",width:45,align:"center",sortable:true,dataIndex:"3_Fri_quantity"},{header:"Sat",width:45,align:"center",sortable:true,dataIndex:"3_Sat_quantity"},{header:"Sun",width:45,align:"center",sortable:true,dataIndex:"3_Sun_quantity"},{header:"This Total",width:65,align:"center",sortable:true,dataIndex:"3_total_num"},{header:"This Growth",width:70,align:"center",sortable:true,dataIndex:"3_growth_rate",renderer:b}]);break;case"4":var h="Sales report this week";var d=new Ext.grid.ColumnModel([{header:"SKU",width:110,align:"center",sortable:true,dataIndex:"sku_id"},{header:"Mon",width:45,align:"center",sortable:true,dataIndex:"3_Mon_quantity"},{header:"Tue",width:45,align:"center",sortable:true,dataIndex:"3_Tue_quantity"},{header:"Wed",width:45,align:"center",sortable:true,dataIndex:"3_Wed_quantity"},{header:"Thu",width:45,align:"center",sortable:true,dataIndex:"3_Thu_quantity"},{header:"Fri",width:45,align:"center",sortable:true,dataIndex:"3_Fri_quantity"},{header:"Sat",width:45,align:"center",sortable:true,dataIndex:"3_Sat_quantity"},{header:"Sun",width:45,align:"center",sortable:true,dataIndex:"3_Sun_quantity"},{header:"L T",width:65,align:"center",sortable:true,dataIndex:"3_total_num"},{header:"L G",width:70,align:"center",sortable:true,dataIndex:"3_growth_rate",renderer:b},{header:"|",width:10,align:"center",dataIndex:"3_total_num",renderer:c},{header:"Mon",width:45,align:"center",sortable:true,dataIndex:"4_Mon_quantity"},{header:"Tue",width:45,align:"center",sortable:true,dataIndex:"4_Tue_quantity"},{header:"Wed",width:45,align:"center",sortable:true,dataIndex:"4_Wed_quantity"},{header:"Thu",width:45,align:"center",sortable:true,dataIndex:"4_Thu_quantity"},{header:"Fri",width:45,align:"center",sortable:true,dataIndex:"4_Fri_quantity"},{header:"Sat",width:45,align:"center",sortable:true,dataIndex:"4_Sat_quantity"},{header:"Sun",width:45,align:"center",sortable:true,dataIndex:"4_Sun_quantity"},{header:"T T",width:65,align:"center",sortable:true,dataIndex:"4_total_num"},{header:"T G",width:70,align:"center",sortable:true,dataIndex:"4_growth_rate",renderer:b},{header:"Y G",width:45,align:"center",sortable:true,dataIndex:"yesterday_growth_rate",renderer:b}]);break;case"5":var h="Month";var d=new Ext.grid.ColumnModel([{header:"SKU",width:110,align:"center",sortable:true,dataIndex:"sku_id"},{header:"Mon",width:45,align:"center",sortable:true,dataIndex:"5_Mon_quantity"},{header:"Tue",width:45,align:"center",sortable:true,dataIndex:"5_Tue_quantity"},{header:"Wed",width:45,align:"center",sortable:true,dataIndex:"5_Wed_quantity"},{header:"Thu",width:45,align:"center",sortable:true,dataIndex:"5_Thu_quantity"},{header:"Fri",width:45,align:"center",sortable:true,dataIndex:"5_Fri_quantity"},{header:"Sat",width:45,align:"center",sortable:true,dataIndex:"5_Sat_quantity"},{header:"Sun",width:45,align:"center",sortable:true,dataIndex:"5_Sun_quantity"},{header:"Last Month Total",width:90,align:"center",sortable:true,dataIndex:"5_total_num"},{header:"|",width:10,align:"center",dataIndex:"5_total_num",renderer:c},{header:"Mon",width:45,align:"center",sortable:true,dataIndex:"6_Mon_quantity"},{header:"Tue",width:45,align:"center",sortable:true,dataIndex:"6_Tue_quantity"},{header:"Wed",width:45,align:"center",sortable:true,dataIndex:"6_Wed_quantity"},{header:"Thu",width:45,align:"center",sortable:true,dataIndex:"6_Thu_quantity"},{header:"Fri",width:45,align:"center",sortable:true,dataIndex:"6_Fri_quantity"},{header:"Sat",width:45,align:"center",sortable:true,dataIndex:"6_Sat_quantity"},{header:"Sun",width:45,align:"center",sortable:true,dataIndex:"6_Sun_quantity"},{header:"This Month Total",width:90,align:"center",sortable:true,dataIndex:"6_total_num"},{header:"This Month Growth",width:100,align:"center",sortable:true,dataIndex:"5_growth_rate",renderer:b}]);break}var f=new Ext.grid.GridPanel({store:e,width:990,height:600,frame:true,selModel:new Ext.grid.RowSelectionModel({}),colModel:d,viewConfig:{forceFit:true,enableRowBody:true,showTitle:false,getRowClass:function(i,l,k,j){if(this.showTitle){switch(week){case"1":k.body='<p><font color="'+((i.data["0_growth_rate"]>0)?"green":"red")+'">'+i.data["0_title"]+'</font><br><font color="'+((i.data["0_growth_rate"]>1)?"green":"red")+'">'+i.data["1_title"]+"</font></p>";break;case"2":k.body='<p><font color="'+((i.data["1_growth_rate"]>0)?"green":"red")+'">'+i.data["1_title"]+'</font><br><font color="'+((i.data["2_growth_rate"]>0)?"green":"red")+'">'+i.data["2_title"]+"</font></p>";break;case"3":k.body='<p><font color="'+((i.data["2_growth_rate"]>0)?"green":"red")+'">'+i.data["2_title"]+'</font><br><font color="'+((i.data["3_growth_rate"]>0)?"green":"red")+'">'+i.data["3_title"]+"</font></p>";break;case"4":k.body='<p><font color="'+((i.data["3_growth_rate"]>0)?"green":"red")+'">'+i.data["3_title"]+'</font><br><font color="'+((i.data["4_growth_rate"]>0)?"green":"red")+'">'+i.data["4_title"]+'</font></p><div id="'+i.data.sku_id+'-chart"></div>';break}return"x-grid3-row-expanded"}return"x-grid3-row-collapsed"}},bbar:[{enableToggle:true,text:"Show Title",toggleHandler:function(j,k){var i=f.getView();i.showTitle=k;i.refresh()}}]});f.on("rowdblclick",function(j){var i=j.getSelectionModel().getSelected();window.open("/eBayBO/skuSalesChart.php?skuId="+i.data.sku_id+"&week="+week+"&sellerId="+sellerId,"_blank","toolbar=no, location=yes, directories=no, status=no, menubar=yes, scrollbars=yes, resizable=no, copyhistory=yes, width=500, height=400")});var a=new Ext.Viewport({layout:"border",items:[{xtype:"panel",title:h,region:"center",autoScroll:true,items:f}]})});